{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Documents/POS%20Liquor%20system/components/Login.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useStore } from '../context/StoreContext';\r\nimport { Lock } from 'lucide-react';\r\n\r\nconst Login = () => {\r\n  const { login, businessSettings } = useStore();\r\n  const [pin, setPin] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  const handleLogin = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!login(pin)) {\r\n      setError(true);\r\n      setPin('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-slate-900\">\r\n      <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\">\r\n        <div className=\"text-center mb-8\">\r\n          {businessSettings?.logoUrl ? (\r\n            <img src={businessSettings.logoUrl} alt=\"Logo\" className=\"w-16 h-16 mx-auto mb-4 rounded-xl object-contain\" />\r\n          ) : (\r\n            <div className=\"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <Lock className=\"text-amber-600\" size={32} />\r\n            </div>\r\n          )}\r\n          <h1 className=\"text-2xl font-bold text-slate-900\">{businessSettings?.businessName || 'Port Side Liquor'}</h1>\r\n          <p className=\"text-slate-500\">Enter your PIN to access the terminal</p>\r\n        </div>\r\n\r\n        <form onSubmit={handleLogin} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-slate-700 mb-2\">Security PIN</label>\r\n            <input\r\n              type=\"password\"\r\n              inputMode=\"numeric\"\r\n              value={pin}\r\n              onChange={(e) => {\r\n                setPin(e.target.value);\r\n                setError(false);\r\n              }}\r\n              className=\"w-full text-center text-3xl tracking-widest py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 outline-none border-slate-300\"\r\n              placeholder=\"••••\"\r\n              maxLength={4}\r\n              autoFocus\r\n            />\r\n          </div>\r\n\r\n          {error && (\r\n            <p className=\"text-red-500 text-sm text-center font-medium\">Invalid PIN. Try again.</p>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-slate-900 text-white py-4 rounded-lg font-bold text-lg hover:bg-slate-800 transition-transform active:scale-95\"\r\n          >\r\n            Access System\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,QAAQ;IACZ,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,GAAG,IAAA,oIAAQ;IAC5C,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,cAAc,CAAC;QACnB,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,MAAM;YACf,SAAS;YACT,OAAO;QACT;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;wBACZ,kBAAkB,wBACjB,8OAAC;4BAAI,KAAK,iBAAiB,OAAO;4BAAE,KAAI;4BAAO,WAAU;;;;;qFAEzD,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,0MAAI;gCAAC,WAAU;gCAAiB,MAAM;;;;;;;;;;;sCAG3C,8OAAC;4BAAG,WAAU;sCAAqC,kBAAkB,gBAAgB;;;;;;sCACrF,8OAAC;4BAAE,WAAU;sCAAiB;;;;;;;;;;;;8BAGhC,8OAAC;oBAAK,UAAU;oBAAa,WAAU;;sCACrC,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAgD;;;;;;8CACjE,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC;wCACT,OAAO,EAAE,MAAM,CAAC,KAAK;wCACrB,SAAS;oCACX;oCACA,WAAU;oCACV,aAAY;oCACZ,WAAW;oCACX,SAAS;;;;;;;;;;;;wBAIZ,uBACC,8OAAC;4BAAE,WAAU;sCAA+C;;;;;;sCAG9D,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;uCAEe"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Documents/POS%20Liquor%20system/components/AppLayout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { PropsWithChildren, useEffect, useState } from 'react';\r\nimport { useStore } from '../context/StoreContext';\r\nimport { usePathname } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { \r\n  LogOut, \r\n  ShoppingCart, \r\n  Package, \r\n  BarChart3, \r\n  ShieldAlert,\r\n  Cloud,\r\n  CloudOff,\r\n  RefreshCw,\r\n  Save,\r\n  Menu,\r\n  X,\r\n  Settings\r\n} from 'lucide-react';\r\n\r\nconst AppLayout = ({ children }: PropsWithChildren) => {\r\n  const { currentUser, logout, currentShift, isOnline, isSyncing, auditLogs, businessSettings } = useStore();\r\n  const pathname = usePathname();\r\n  const [lastSaved, setLastSaved] = useState<string>('');\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auditLogs.length > 0) {\r\n      const date = new Date(auditLogs[0].timestamp);\r\n      setLastSaved(date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' }));\r\n    } else {\r\n      setLastSaved('Just now');\r\n    }\r\n  }, [auditLogs]);\r\n\r\n  if (!currentUser) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  const isActive = (path: string) => pathname === path ? \"bg-slate-700 text-white\" : \"text-slate-400 hover:text-white hover:bg-slate-800\";\r\n  const hasPerm = (perm: string) => currentUser.permissions?.includes(perm);\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-slate-100 overflow-hidden print:overflow-visible print:bg-white print:h-auto\">\r\n      {/* Mobile Header Bar */}\r\n      <div className=\"lg:hidden fixed top-0 left-0 right-0 z-40 bg-slate-900 text-white px-4 py-3 flex items-center justify-between print:hidden\">\r\n        <button \r\n          onClick={() => setSidebarOpen(true)} \r\n          className=\"p-2 hover:bg-slate-800 rounded-lg\"\r\n        >\r\n          <Menu size={24} />\r\n        </button>\r\n        <h1 className=\"text-lg font-bold flex items-center gap-2\">\r\n          {businessSettings?.logoUrl ? (\r\n            <img src={businessSettings.logoUrl} alt=\"Logo\" className=\"w-6 h-6 rounded object-contain\" />\r\n          ) : (\r\n            <div className=\"w-6 h-6 bg-amber-500 rounded flex items-center justify-center text-white font-bold text-xs\">PS</div>\r\n          )}\r\n          <span className=\"truncate\">{businessSettings?.businessName?.split(' ')[0] || 'Port Side'}</span>\r\n        </h1>\r\n        <div className=\"flex items-center gap-2\">\r\n          {isSyncing ? (\r\n            <RefreshCw size={18} className=\"animate-spin text-blue-400\" />\r\n          ) : isOnline ? (\r\n            <Cloud size={18} className=\"text-green-500\" />\r\n          ) : (\r\n            <CloudOff size={18} className=\"text-slate-500\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Overlay */}\r\n      {sidebarOpen && (\r\n        <div \r\n          className=\"lg:hidden fixed inset-0 bg-black/50 z-40 print:hidden\" \r\n          onClick={() => setSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <aside className={`\r\n        fixed lg:static inset-y-0 left-0 z-50\r\n        w-64 bg-slate-900 text-white flex flex-col flex-shrink-0 \r\n        transform transition-transform duration-300 ease-in-out\r\n        ${sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\r\n        print:hidden\r\n      `}>\r\n        <div className=\"p-6 border-b border-slate-800\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h1 className=\"text-xl font-bold flex items-center gap-2\">\r\n              {businessSettings?.logoUrl ? (\r\n                <img src={businessSettings.logoUrl} alt=\"Logo\" className=\"w-8 h-8 rounded-lg object-contain\" />\r\n              ) : (\r\n                <div className=\"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center text-white font-bold text-sm\">PS</div>\r\n              )}\r\n              <span className=\"truncate\">{businessSettings?.businessName || 'Port Side Liquor'}</span>\r\n            </h1>\r\n            <button \r\n              onClick={() => setSidebarOpen(false)} \r\n              className=\"lg:hidden p-1 hover:bg-slate-800 rounded\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          </div>\r\n          <div className=\"mt-4 text-sm text-slate-400\">\r\n            <p>User: <span className=\"text-white font-medium\">{currentUser.name}</span></p>\r\n            <p className=\"mt-1 flex items-center gap-2\">\r\n              <span className={`w-2 h-2 rounded-full ${currentShift ? 'bg-green-500' : 'bg-red-500'}`}></span>\r\n              {currentShift ? 'Shift Open' : 'Shift Closed'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <nav className=\"flex-1 p-4 space-y-2\">\r\n          {hasPerm('POS') && (\r\n            <Link href=\"/\" onClick={() => setSidebarOpen(false)} className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isActive('/')}`}>\r\n              <ShoppingCart size={20} />\r\n              <span className=\"font-medium\">Point of Sale</span>\r\n            </Link>\r\n          )}\r\n\r\n          {hasPerm('INVENTORY') && (\r\n            <Link href=\"/inventory\" onClick={() => setSidebarOpen(false)} className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isActive('/inventory')}`}>\r\n              <Package size={20} />\r\n              <span className=\"font-medium\">Inventory</span>\r\n            </Link>\r\n          )}\r\n\r\n          {hasPerm('REPORTS') && (\r\n            <Link href=\"/reports\" onClick={() => setSidebarOpen(false)} className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isActive('/reports')}`}>\r\n              <BarChart3 size={20} />\r\n              <span className=\"font-medium\">Reports</span>\r\n            </Link>\r\n          )}\r\n\r\n          {hasPerm('ADMIN') && (\r\n            <Link href=\"/admin\" onClick={() => setSidebarOpen(false)} className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isActive('/admin')}`}>\r\n              <ShieldAlert size={20} />\r\n              <span className=\"font-medium\">Admin & Logs</span>\r\n            </Link>\r\n          )}\r\n          \r\n          {hasPerm('ADMIN') && (\r\n            <Link href=\"/settings\" onClick={() => setSidebarOpen(false)} className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isActive('/settings')}`}>\r\n              <Settings size={20} />\r\n              <span className=\"font-medium\">Settings</span>\r\n            </Link>\r\n          )}\r\n        </nav>\r\n\r\n        {/* System Status Footer */}\r\n        <div className=\"px-6 py-3 bg-slate-800/50 border-t border-slate-800 space-y-2\">\r\n          <div className=\"flex items-center gap-2 text-xs font-medium\">\r\n            {isSyncing ? (\r\n              <>\r\n                <RefreshCw size={14} className=\"animate-spin text-blue-400\" />\r\n                <span className=\"text-blue-400\">Syncing to Cloud...</span>\r\n              </>\r\n            ) : isOnline ? (\r\n              <>\r\n                <Cloud size={14} className=\"text-green-500\" />\r\n                <span className=\"text-green-500\">Cloud Connected</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <CloudOff size={14} className=\"text-slate-500\" />\r\n                <span className=\"text-slate-500\">Offline Mode</span>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-xs text-slate-400\">\r\n            <Save size={14} />\r\n            <span>Saved locally: {lastSaved}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 border-t border-slate-800\">\r\n          <button \r\n            onClick={logout}\r\n            className=\"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-red-400 hover:bg-slate-800 hover:text-red-300 transition-colors\"\r\n          >\r\n            <LogOut size={20} />\r\n            <span className=\"font-medium\">Logout</span>\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 overflow-auto bg-slate-100 relative print:overflow-visible print:bg-white print:p-0 pt-14 lg:pt-0\">\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppLayout;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Documents/POS%20Liquor%20system/components/pages/POS.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport { useStore } from '../../context/StoreContext';\r\nimport { AlcoholType, Product, CartItem, SaleItem, Sale } from '../../types';\r\nimport { CURRENCY_FORMATTER } from '../../constants';\r\nimport { Search, Plus, Minus, Trash2, CreditCard, Banknote, Smartphone, LogOut, Receipt, Printer, X, Clock } from 'lucide-react';\r\n\r\nconst POS = () => {\r\n  const { products, sales, processSale, currentShift, openShift, closeShift, logout, businessSettings } = useStore();\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n  const [search, setSearch] = useState('');\r\n  const [filter, setFilter] = useState<AlcoholType | 'ALL'>('ALL');\r\n  \r\n  const [showShiftModal, setShowShiftModal] = useState(false);\r\n  const [shiftCashAmount, setShiftCashAmount] = useState('');\r\n  const [paymentModalOpen, setPaymentModalOpen] = useState(false);\r\n  const [showReceiptModal, setShowReceiptModal] = useState(false);\r\n  const [receiptSale, setReceiptSale] = useState<Sale | null>(null);\r\n  const [mobileCartOpen, setMobileCartOpen] = useState(false);\r\n\r\n  const filteredProducts = useMemo(() => {\r\n    return products.filter(p => {\r\n      const matchesSearch = p.name.toLowerCase().includes(search.toLowerCase()) || p.sku.includes(search);\r\n      const matchesType = filter === 'ALL' || p.type === filter;\r\n      return matchesSearch && matchesType;\r\n    });\r\n  }, [products, search, filter]);\r\n\r\n  const addToCart = (product: Product) => {\r\n    setCart(prev => {\r\n      const existing = prev.find(item => item.id === product.id);\r\n      if (existing) {\r\n        return prev.map(item => item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item);\r\n      }\r\n      return [...prev, { ...product, quantity: 1 }];\r\n    });\r\n  };\r\n\r\n  const adjustQty = (id: string, delta: number) => {\r\n    setCart(prev => prev.map(item => {\r\n      if (item.id === id) {\r\n        return { ...item, quantity: Math.max(1, item.quantity + delta) };\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const removeFromCart = (id: string) => {\r\n    setCart(prev => prev.filter(item => item.id !== id));\r\n  };\r\n\r\n  const cartTotal = cart.reduce((sum, item) => sum + (item.sellingPrice * item.quantity), 0);\r\n\r\n  const handlePayment = async (method: 'CASH' | 'CARD' | 'MOBILE') => {\r\n    const saleItems: SaleItem[] = cart.map(c => ({\r\n      productId: c.id,\r\n      productName: c.name,\r\n      size: c.size,\r\n      quantity: c.quantity,\r\n      priceAtSale: c.sellingPrice,\r\n      costAtSale: c.costPrice\r\n    }));\r\n    \r\n    const newSale = await processSale(saleItems, method);\r\n    \r\n    if (newSale) {\r\n      setReceiptSale(newSale);\r\n      setShowReceiptModal(true);\r\n      setCart([]);\r\n      setPaymentModalOpen(false);\r\n      setMobileCartOpen(false);\r\n    }\r\n  };\r\n\r\n  const viewLastTransaction = () => {\r\n    if (sales.length > 0) {\r\n      setReceiptSale(sales[0]);\r\n      setShowReceiptModal(true);\r\n    }\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  const handleOpenShift = () => {\r\n    openShift(0);\r\n    setShowShiftModal(false);\r\n  };\r\n\r\n  const handleCloseShift = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const amount = parseFloat(shiftCashAmount);\r\n    if (isNaN(amount)) return;\r\n    await closeShift(amount);\r\n    logout();\r\n    setShiftCashAmount('');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!currentShift) {\r\n      setShowShiftModal(true);\r\n    }\r\n  }, [currentShift]);\r\n\r\n  if (!currentShift) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full p-4 lg:p-8 print:hidden\">\r\n        <div className=\"bg-white p-6 lg:p-8 rounded-xl shadow-lg max-w-md w-full text-center\">\r\n          <div className=\"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n            <Clock className=\"text-amber-600\" size={32} />\r\n          </div>\r\n          <h2 className=\"text-xl lg:text-2xl font-bold text-slate-800 mb-2\">Start Your Shift</h2>\r\n          <p className=\"text-slate-500 mb-6 text-sm lg:text-base\">Tap below to open the register and begin.</p>\r\n          <button \r\n            onClick={handleOpenShift}\r\n            className=\"w-full bg-amber-500 hover:bg-amber-600 text-white py-3 lg:py-4 rounded-lg font-bold text-base lg:text-lg\"\r\n          >\r\n            Open Shift\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col lg:flex-row h-full relative\">\r\n      {/* Product Grid Section */}\r\n      <div className=\"flex-1 p-3 lg:p-6 pb-20 lg:pb-6 overflow-y-auto\">\r\n        {/* Search & Filters */}\r\n        <div className=\"mb-4 lg:mb-6 space-y-3 lg:space-y-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search products or scan barcode...\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-2.5 lg:py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm lg:text-base\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex gap-2 overflow-x-auto pb-2 -mx-3 px-3 lg:mx-0 lg:px-0\">\r\n            {['ALL', ...Object.values(AlcoholType)].map(type => (\r\n              <button\r\n                key={type}\r\n                onClick={() => setFilter(type as AlcoholType | 'ALL')}\r\n                className={`px-3 lg:px-4 py-1.5 lg:py-2 rounded-full text-xs lg:text-sm font-medium whitespace-nowrap transition-colors ${\r\n                  filter === type ? 'bg-amber-500 text-white' : 'bg-slate-200 text-slate-600 hover:bg-slate-300'\r\n                }`}\r\n              >\r\n                {type}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Products Grid */}\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 lg:gap-4\">\r\n          {filteredProducts.map(product => (\r\n            <button\r\n              key={product.id}\r\n              onClick={() => addToCart(product)}\r\n              disabled={product.stock <= 0}\r\n              className={`bg-white p-3 lg:p-4 rounded-xl shadow-sm border-2 text-left transition-all active:scale-95 ${\r\n                product.stock <= 0 \r\n                  ? 'opacity-50 cursor-not-allowed border-slate-200' \r\n                  : 'border-transparent hover:border-amber-400 hover:shadow-lg'\r\n              }`}\r\n            >\r\n              <div className=\"text-xs lg:text-sm font-bold text-slate-800 truncate\">{product.name}</div>\r\n              <div className=\"text-[10px] lg:text-xs text-slate-400\">{product.size}</div>\r\n              <div className=\"text-sm lg:text-lg font-bold text-amber-600 mt-1 lg:mt-2\">\r\n                {CURRENCY_FORMATTER.format(product.sellingPrice)}\r\n              </div>\r\n              <div className={`text-[10px] lg:text-xs mt-1 ${product.stock <= 5 ? 'text-red-500 font-medium' : 'text-slate-400'}`}>\r\n                {product.stock} in stock\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Desktop Cart */}\r\n      <div className=\"hidden lg:flex w-96 bg-white border-l border-slate-200 flex-col print:hidden\">\r\n        <div className=\"p-6 border-b border-slate-200 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-bold text-slate-800\">Current Sale</h2>\r\n          <button onClick={viewLastTransaction} className=\"text-slate-400 hover:text-slate-600\">\r\n            <Receipt size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\r\n          {cart.length === 0 ? (\r\n            <div className=\"text-center text-slate-400 py-12\">\r\n              <ShoppingCartIcon size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n              <p>Cart is empty</p>\r\n            </div>\r\n          ) : (\r\n            cart.map(item => (\r\n              <div key={item.id} className=\"bg-slate-50 p-4 rounded-lg\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <div>\r\n                    <div className=\"font-bold text-slate-800\">{item.name}</div>\r\n                    <div className=\"text-xs text-slate-400\">{item.size}</div>\r\n                  </div>\r\n                  <button onClick={() => removeFromCart(item.id)} className=\"text-red-400 hover:text-red-600\">\r\n                    <Trash2 size={16} />\r\n                  </button>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button onClick={() => adjustQty(item.id, -1)} className=\"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center hover:bg-slate-300\">\r\n                      <Minus size={14} />\r\n                    </button>\r\n                    <span className=\"font-bold w-8 text-center\">{item.quantity}</span>\r\n                    <button onClick={() => adjustQty(item.id, 1)} className=\"w-8 h-8 rounded-full bg-amber-500 text-white flex items-center justify-center hover:bg-amber-600\">\r\n                      <Plus size={14} />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"font-bold text-amber-600\">\r\n                    {CURRENCY_FORMATTER.format(item.sellingPrice * item.quantity)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"p-6 border-t border-slate-200 space-y-4\">\r\n          <div className=\"flex justify-between items-center text-2xl font-bold\">\r\n            <span>Total</span>\r\n            <span className=\"text-amber-600\">{CURRENCY_FORMATTER.format(cartTotal)}</span>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => setPaymentModalOpen(true)}\r\n            disabled={cart.length === 0}\r\n            className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-slate-300 text-white py-4 rounded-xl font-bold text-lg transition-colors\"\r\n          >\r\n            Checkout\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => setShowShiftModal(true)}\r\n            className=\"w-full flex items-center justify-center gap-2 text-red-500 hover:text-red-600 py-2 font-medium\"\r\n          >\r\n            <LogOut size={18} /> End Shift\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Cart Button */}\r\n      <div className=\"lg:hidden fixed bottom-4 left-4 right-4 print:hidden\">\r\n        <button \r\n          onClick={() => setMobileCartOpen(true)}\r\n          className=\"w-full bg-amber-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-3\"\r\n        >\r\n          <ShoppingCartIcon size={24} className=\"\" />\r\n          <span>View Cart ({cart.length})</span>\r\n          <span className=\"ml-auto\">{CURRENCY_FORMATTER.format(cartTotal)}</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Mobile Cart Drawer */}\r\n      {mobileCartOpen && (\r\n        <div className=\"lg:hidden fixed inset-0 z-50 print:hidden\">\r\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setMobileCartOpen(false)} />\r\n          <div className=\"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl max-h-[85vh] flex flex-col\">\r\n            <div className=\"p-4 border-b border-slate-200 flex items-center justify-between\">\r\n              <h2 className=\"text-lg font-bold\">Cart ({cart.length} items)</h2>\r\n              <button onClick={() => setMobileCartOpen(false)}>\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\r\n              {cart.map(item => (\r\n                <div key={item.id} className=\"bg-slate-50 p-3 rounded-lg\">\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                      <div className=\"font-bold text-sm\">{item.name}</div>\r\n                      <div className=\"text-xs text-slate-400\">{item.size}</div>\r\n                    </div>\r\n                    <button onClick={() => removeFromCart(item.id)} className=\"text-red-400\">\r\n                      <Trash2 size={16} />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button onClick={() => adjustQty(item.id, -1)} className=\"w-7 h-7 rounded-full bg-slate-200 flex items-center justify-center\">\r\n                        <Minus size={12} />\r\n                      </button>\r\n                      <span className=\"font-bold w-6 text-center text-sm\">{item.quantity}</span>\r\n                      <button onClick={() => adjustQty(item.id, 1)} className=\"w-7 h-7 rounded-full bg-amber-500 text-white flex items-center justify-center\">\r\n                        <Plus size={12} />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"font-bold text-amber-600 text-sm\">\r\n                      {CURRENCY_FORMATTER.format(item.sellingPrice * item.quantity)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"p-4 border-t border-slate-200 space-y-3\">\r\n              <div className=\"flex justify-between items-center text-xl font-bold\">\r\n                <span>Total</span>\r\n                <span className=\"text-amber-600\">{CURRENCY_FORMATTER.format(cartTotal)}</span>\r\n              </div>\r\n              <button\r\n                onClick={() => setPaymentModalOpen(true)}\r\n                disabled={cart.length === 0}\r\n                className=\"w-full bg-green-600 disabled:bg-slate-300 text-white py-3 rounded-xl font-bold text-lg\"\r\n              >\r\n                Checkout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Payment Modal */}\r\n      {paymentModalOpen && (\r\n        <div className=\"fixed inset-0 z-50 bg-slate-900/80 backdrop-blur-sm flex items-end lg:items-center justify-center print:hidden\">\r\n          <div className=\"bg-white w-full lg:rounded-xl lg:max-w-md lg:w-full rounded-t-2xl\">\r\n            <div className=\"p-4 lg:p-6 border-b border-slate-200 flex justify-between items-center\">\r\n              <h2 className=\"text-lg lg:text-xl font-bold\">Select Payment</h2>\r\n              <button onClick={() => setPaymentModalOpen(false)}>\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n            <div className=\"p-4 lg:p-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"text-slate-500 text-sm\">Total Amount</div>\r\n                <div className=\"text-3xl lg:text-4xl font-bold text-amber-600\">\r\n                  {CURRENCY_FORMATTER.format(cartTotal)}\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-3 gap-3\">\r\n                <button onClick={() => handlePayment('CASH')} className=\"flex flex-col items-center gap-2 p-4 lg:p-6 bg-green-50 rounded-xl hover:bg-green-100 border-2 border-green-200\">\r\n                  <Banknote size={28} className=\"text-green-600\" />\r\n                  <span className=\"font-bold text-green-800 text-sm lg:text-base\">Cash</span>\r\n                </button>\r\n                <button onClick={() => handlePayment('CARD')} className=\"flex flex-col items-center gap-2 p-4 lg:p-6 bg-blue-50 rounded-xl hover:bg-blue-100 border-2 border-blue-200\">\r\n                  <CreditCard size={28} className=\"text-blue-600\" />\r\n                  <span className=\"font-bold text-blue-800 text-sm lg:text-base\">Card</span>\r\n                </button>\r\n                <button onClick={() => handlePayment('MOBILE')} className=\"flex flex-col items-center gap-2 p-4 lg:p-6 bg-purple-50 rounded-xl hover:bg-purple-100 border-2 border-purple-200\">\r\n                  <Smartphone size={28} className=\"text-purple-600\" />\r\n                  <span className=\"font-bold text-purple-800 text-sm lg:text-base\">M-Pesa</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Close Shift Modal */}\r\n      {showShiftModal && currentShift && (\r\n        <div className=\"fixed inset-0 z-50 bg-slate-900/90 backdrop-blur-sm flex items-center justify-center p-4 print:hidden\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full\">\r\n            <h2 className=\"text-2xl font-bold mb-2 text-slate-800\">Close Shift</h2>\r\n            <p className=\"text-slate-500 mb-6\">Count cash and enter amount. <strong className=\"text-red-600\">This will log you out.</strong></p>\r\n            <form onSubmit={handleCloseShift}>\r\n              <label className=\"block text-sm font-bold text-slate-700 mb-2\">Closing Cash (KES)</label>\r\n              <input \r\n                type=\"number\" \r\n                step=\"0.01\" \r\n                className=\"w-full text-2xl p-3 border rounded-lg mb-6 border-slate-300\" \r\n                value={shiftCashAmount}\r\n                onChange={e => setShiftCashAmount(e.target.value)}\r\n                placeholder=\"0.00\"\r\n                autoFocus\r\n                required\r\n              />\r\n              <button className=\"w-full bg-red-600 hover:bg-red-700 text-white py-4 rounded-lg font-bold text-lg\">\r\n                Confirm & Logout\r\n              </button>\r\n              <button \r\n                type=\"button\" \r\n                onClick={() => { setShowShiftModal(false); setShiftCashAmount(''); }}\r\n                className=\"w-full mt-4 text-slate-500 font-medium py-2\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Receipt Modal */}\r\n      {showReceiptModal && receiptSale && (\r\n        <div className=\"fixed inset-0 z-50 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4 print:fixed print:inset-0 print:z-[9999] print:bg-white print:p-0\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-sm w-full overflow-hidden print:shadow-none print:w-full print:max-w-none\">\r\n            <div className=\"p-6 lg:p-8 pb-4 text-center print:p-8\">\r\n              {businessSettings?.logoUrl && (\r\n                <img src={businessSettings.logoUrl} alt=\"Logo\" className=\"w-16 h-16 mx-auto mb-3 object-contain\" />\r\n              )}\r\n              <h2 className=\"text-xl lg:text-2xl font-bold mb-0.5\">\r\n                {businessSettings?.businessName || 'Port Side Liquor'}\r\n              </h2>\r\n              {businessSettings?.tagline && (\r\n                <p className=\"text-xs text-slate-400 italic mb-1\">{businessSettings.tagline}</p>\r\n              )}\r\n              <p className=\"text-xs text-slate-500 mb-1\">{businessSettings?.location || 'Nairobi, Kenya'}</p>\r\n              <p className=\"text-xs text-slate-500 mb-4\">\r\n                {businessSettings?.phone || '+254 700 000000'}\r\n                {businessSettings?.email && ` • ${businessSettings.email}`}\r\n              </p>\r\n              \r\n              <div className=\"border-t border-b border-dashed border-slate-300 py-4 my-4 space-y-1 text-sm text-left\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-slate-500\">Receipt #:</span>\r\n                  <span className=\"font-mono font-bold\">{receiptSale.id.slice(-6)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-slate-500\">Date:</span>\r\n                  <span>{new Date(receiptSale.timestamp).toLocaleDateString()} {new Date(receiptSale.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-slate-500\">Cashier:</span>\r\n                  <span>{receiptSale.cashierName}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-slate-500\">Payment:</span>\r\n                  <span className=\"font-bold\">{receiptSale.paymentMethod}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2 mb-6 text-left\">\r\n                {receiptSale.items.map((item, idx) => (\r\n                  <div key={idx} className=\"flex justify-between text-sm\">\r\n                    <div>\r\n                      <p className=\"font-bold text-slate-800\">{item.productName}</p>\r\n                      <p className=\"text-xs text-slate-500\">{item.quantity} x {CURRENCY_FORMATTER.format(item.priceAtSale)}</p>\r\n                    </div>\r\n                    <div className=\"font-bold\">\r\n                      {CURRENCY_FORMATTER.format(item.quantity * item.priceAtSale)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"border-t-2 border-slate-800 pt-4 flex justify-between items-end mb-6\">\r\n                <span className=\"text-xl font-bold\">Total</span>\r\n                <span className=\"text-2xl font-bold\">{CURRENCY_FORMATTER.format(receiptSale.totalAmount)}</span>\r\n              </div>\r\n\r\n              <p className=\"text-xs text-slate-500 italic text-center\">\r\n                {businessSettings?.receiptFooter || 'Thank you for your business!'}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-slate-50 p-4 border-t border-slate-100 flex gap-4 print:hidden\">\r\n              <button onClick={handlePrint} className=\"flex-1 bg-slate-900 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-slate-800\">\r\n                <Printer size={18} /> Print\r\n              </button>\r\n              <button onClick={() => setShowReceiptModal(false)} className=\"flex-1 border border-slate-300 py-3 rounded-lg font-bold text-slate-600 hover:bg-white\">\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ShoppingCartIcon = ({ size, className }: { size: number, className?: string }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n    <circle cx=\"8\" cy=\"21\" r=\"1\" />\r\n    <circle cx=\"19\" cy=\"21\" r=\"1\" />\r\n    <path d=\"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12\" />\r\n  </svg>\r\n);\r\n\r\nexport default POS;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Documents/POS%20Liquor%20system/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useStore } from '../context/StoreContext';\r\nimport Login from '../components/Login';\r\nimport AppLayout from '../components/AppLayout';\r\nimport POS from '../components/pages/POS';\r\n\r\nexport default function Home() {\r\n  const { currentUser } = useStore();\r\n\r\n  if (!currentUser) {\r\n    return <Login />;\r\n  }\r\n\r\n  // Check if user has POS permission\r\n  if (!currentUser.permissions?.includes('POS')) {\r\n    return (\r\n      <AppLayout>\r\n        <div className=\"flex h-full items-center justify-center p-8\">\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-2xl font-bold text-red-500 mb-2\">Access Denied</h2>\r\n            <p className=\"text-slate-600\">You do not have POS access.</p>\r\n          </div>\r\n        </div>\r\n      </AppLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <POS />\r\n    </AppLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,oIAAQ;IAEhC,IAAI,CAAC,aAAa;QAChB,qBAAO,8OAAC,+HAAK;;;;;IACf;IAEA,mCAAmC;IACnC,IAAI,CAAC,YAAY,WAAW,EAAE,SAAS,QAAQ;QAC7C,qBACE,8OAAC,mIAAS;sBACR,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,8OAAC;4BAAE,WAAU;sCAAiB;;;;;;;;;;;;;;;;;;;;;;IAKxC;IAEA,qBACE,8OAAC,mIAAS;kBACR,cAAA,8OAAC,sIAAG;;;;;;;;;;AAGV"}}]
}